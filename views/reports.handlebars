<div class="container">
    <h1 class="section-heading">Accessibility Reports</h1>
    {{> errorAlert}}
    {{> successAlert}}
    <section class="create-report">
        <h2 class="subheading">Create a New Report</h2>
        <form method="POST" action="/reports/new" id="reportForm" class="auth-form">
            <div class="form-group">
                <label for="stationId" class="form-label">Station ID</label>
                <input type="text" id="stationId" name="stationId" class="form-input" required placeholder="e.g. MTA_SUBWAY_101S">
            </div>
            <div class="form-group">
                <label for="stationName" class="form-label">Station Name</label>
                <input type="text" id="stationName" name="stationName" class="form-input" required placeholder="e.g. Times Square - 42 St">
            </div>
            <div class="form-group">
                <label for="issueType" class="form-label">Issue Type</label>
                <select id="issueType" name="issueType" class="form-input" required>
                    <option value="elevator">Broken Elevator</option>
                    <option value="escalator">Broken Escalator</option>
                    <option value="bathroom">Closed Bathroom</option>
                    <option value="turnstile">Turnstile Malfunction</option>
                    <option value="other">Other</option>
                </select>
            </div>
            <div class="form-group">
                <label for="description" class="form-label">Description</label>
                <textarea id="description" name="description" class="form-input" rows="4" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Submit Report</button>
        </form>
    </section>
    <section class="my-reports">
        <h2 class="subheading">My Reports</h2>
        {{#if reports.length}}
            <div class="commutes-grid">
                {{#each reports}}
                    <div class="commute-card">
                        <div class="commute-header">
                            <h3>{{this.stationName}}</h3>
                            <p class="small">{{this.issueType}}</p>
                        </div>
                        <p>{{this.description}}</p>
                        <p class="small">Last Updated: {{this.updatedAt}}</p>
                        <div class="commute-actions">
                            <a href="/reports/{{this._id}}/edit" class="btn btn-small btn-secondary">Edit</a>
                            <form method="POST" action="/reports/{{this._id}}/delete" class="inline-form">
                                <button type="submit" class="btn btn-small btn-danger">Delete</button>
                            </form>
                        </div>
                    </div>
                {{/each}}
            </div>
        {{else}}
            <p class="empty-description">You have not created any reports yet.</p>
        {{/if}}
    </section>
</div>